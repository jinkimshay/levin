/**
 * @Description 丰云行APP交互JSSDK
 * @Version 3.11
 * @Author  Haply
 */
!function(t){t.GTMC={WebToApp:function(t){if(!this.ckO(t))return alert("入参必须为 Object 类型！");if(this.isAPP("Android")||this.isAPP("IOS")){var e="gtmcapp://com.gtmc/webtoapp/";if(1==t.fType)location.href=e+"cardpackage?ctype = "+t.ctype+" & ptype="+t.ptype+" & tel="+t.tel;else if(2==t.fType)location.href=e+"salecar?code="+t.code+"&tel="+t.tel;else if(3==t.fType)location.href=e+"buyOrder?code="+t.code+"&orderId="+t.orderId+"&tel="+t.tel;else if(4==t.fType)location.href=e+"curinglist?code="+t.code+"&courseId="+t.courseId;else if(5==t.fType){for(var i in e+="intentionOrder",t)this.ckO(t[i])?e+="&"+i+"="+JSON.stringify(t[i]):e+="&"+i+"="+t[i];location.href=e.replace("&","?")}setTimeout(function(){var t="http://a.app.qq.com/o/simple.jsp?pkgname=com.yongyou";location.href=t,location.href=t},1500)}else alert("请使用移动设备调用该方法！！")},postMessage:function(e,i,r){this.ckO(i)||(r=i,i={});var s={functionName:r||"getMessage",interfaceName:e,params:i};if(!t.getMessage&&(t.getMessage=function(){}),this.ckF(r)&&(t.GTMC_Callback=function(t){this.ckS(t)&&(t=JSON.parse(t)),r(t)},s.functionName="GTMC_Callback"),s=JSON.stringify(s),this.isAPP("Android"))NativeJavaScriptInterface.postMessage(s);else if(this.isAPP("IOS"))webkit.messageHandlers.NativeJavaScriptInterface.postMessage(s);else if(0==navigator.userAgent.indexOf("gtmcapp"))try{NativeJavaScriptInterface.postMessage(s)}catch(t){}else alert("请使用移动设备调用该方法！！")},getUserDetails:function(t,e){this.ckO(t)||(e=t,t={}),this.postMessage("jsGetUserDetails",t,e)},sendCoupon:function(t,e){if(!this.ckS(t))return alert("第一个入参【手机号】,类型为String必填, 请检查入参！");this.postMessage("jsSendCoupon",{tel:t},e)},WXShare:function(t,e,i,r){return this.ckS(t)?this.ckS(e)?this.ckS(i)?void this.postMessage("jsWXShare",{imgUrl:t,link:e,content:i},r):alert("第三个入参【分享简介】,类型为String必填, 请检查入参！"):alert("第二个入参【分享链接】,类型为String必填, 请检查入参！"):alert("第一个入参【分享图片】,类型为String必填, 请检查入参！")},toOtherPage:function(t,e,i,r){return this.ckS(t)?this.ckS(e)?this.ckS(i)?void this.postMessage("jsToOtherPage",{ctype:t,tel:i,ptype:e},r):alert("第三个入参【手机号】,类型为String必填, 请检查入参！"):alert("第二个入参【返回接口名】,类型为String必填, 请检查入参！"):alert("第一个入参【传入接口名】,类型为String必填, 请检查入参！")},appFinish:function(t){t=t?{}:t,this.postMessage("appfinish",t)},isLogin:function(t,e,i,r,s,n){return this.ckS(t)?this.ckS(e)?this.ckS(i)?this.ckS(r)?this.ckS(s)?void this.postMessage("isLogin",{tel:t,appid:e,nonce:i,timestamp:r,signature:s},n):alert("第五个入参【加密签名】,类型为String必填, 请检查入参！"):alert("第四个入参【时间戳】,类型为String必填, 请检查入参！"):alert("第三个入参【随机数】,类型为String必填, 请检查入参！"):alert("第二个入参【应用ID】,类型为String必填, 请检查入参！"):alert("第一个入参【手机号】,类型为String必填, 请检查入参！")},nativeLogin:function(t){this.postMessage("jsNativeLogin",t)},goLogin:function(t,e,i,r,s,n,a){return this.ckS(t)?this.ckS(e)?this.ckS(i)?this.ckS(r)?this.ckS(s)?this.ckS(n)?void this.postMessage("jsLogin",{uuid:t,tel:e,appid:i,nonce:r,timestamp:s,signature:n},a):alert("第六个入参【加密签名】,类型为String必填, 请检查入参！"):alert("第五个入参【时间戳】,类型为String必填, 请检查入参！"):alert("第四个入参【随机数】,类型为String必填, 请检查入参！"):alert("第三个入参【应用ID】,类型为String必填, 请检查入参！"):alert("第二个入参【手机号】,类型为String必填, 请检查入参！"):alert("第一个入参【唯一标识】,类型为String必填, 请检查入参！")},inviteRegistration:function(t,e,i,r,s){return this.ckS(t)?this.ckS(e)?this.ckS(i)?void this.postMessage("jsInviteRegistration",{activityId:r,inviteFrom:e,inviteWay:t,organizationCode:i},s):alert("第三个入参【组织机构代码】,类型为String必填, 请检查入参！"):alert("第二个入参【邀请来源】,类型为String必填, 请检查入参！"):alert("第一个入参【邀请方式】,类型为String必填, 请检查入参！")},share:function(t,e,i,r,s,n){return this.ckS(t)?this.ckS(e)?this.ckS(i)?this.ckS(r)?this.ckS(s)?void this.postMessage("jsShare",{type:t,imgUrl:e,link:i,title:r,description:s},n):alert("第五个入参【分享描述】,类型为String必填, 请检查入参！"):alert("第四个入参【分享标题】,类型为String必填, 请检查入参！"):alert("第三个入参【分享链接】,类型为String必填, 请检查入参！"):alert("第二个入参【分享图片】,类型为String必填, 请检查入参！"):alert("第一个入参【分享类型】,类型为String必填, 请检查入参！")},toPage:function(t,e){this.ckS(t)&&(e=t,t={}),this.postMessage("jsToPage",t,e)},toCamryScanPage:function(t,e){if(!this.ckS(t))return alert("第一个入参【网页地址链接】,类型为String必填, 请检查入参！");this.postMessage("jsToCamryScanPage",{url:t},e)},toLocation:function(t){this.postMessage("jsToLocation",t)},toFullscreenWebView:function(t,e,i){return this.ckS(t)?this.ckS(e)?void this.postMessage("jsToFullscreenWebView",{url:t,type:e,title:i||""}):alert("第二个入参【屏幕方向】,类型为String必填, 请检查入参！"):alert("第一个入参【网页地址链接】,类型为String必填, 请检查入参！")},enterPayCompletionInterface:function(t){return this.ckS(t)?alert("参数类型为Object，必填，详情参看文档！"):t.platform&&this.ckS(t.platform)?void this.postMessage("jsEnterPayCompletionInterface",t):alert("platform参数必填！")},getEnvironment:function(e){if(!this.ckS(e))return alert("回调名,类型为String必填, 请检查入参！");var i=navigator.userAgent,r=i.indexOf("Android")>-1||i.indexOf("Linux")>-1,s=!!i.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),n={};return i.indexOf("gtmcapp")>-1?n.resultCode="3":n.resultCode=r||s?"2":"1",n.userAgent=i,e&&t[e](n),n},MakeAPhoneCall:function(t){if(!this.ckS(t))return alert("电话号码,类型为String必填, 请检查入参！");this.postMessage("jsMakeAPhoneCall",{tel:t})},goCashier:function(t,e,i,r,s){return this.ckS(t)?this.ckS(e)?this.ckS(i)?this.ckS(r)?void this.postMessage("jsGoCashier",{serviceNo:t,orderNo:e,orderType:i,dealerCode:r},s):alert("第四个入参【销售店ID】,类型为String必填, 请检查入参！"):alert("第三个入参【订单类型】,类型为String必填, 请检查入参！"):alert("第二个入参【OMS订单号】,类型为String必填, 请检查入参！"):alert("第一个入参【业务单号】,类型为String必填, 请检查入参！")},saveThePicture:function(t,e){if(!this.ckS(t))return alert("第一个入参【Base64码图片】,类型为String必填, 请检查入参！");this.postMessage("jsSaveThePicture",{imageData:t},e)},jsToAppUpgradeTips:function(){this.postMessage("jsToAppUpgradeTips")},goWXMiniProgram:function(t,e){if(!this.ckS(t))return alert("第一个入参【微信小程序AppID】,类型为String必填, 请检查入参！");this.postMessage("jsLaunchMiniProgram",{AppID:t},e)},JumpToANewWebPage:function(t,e){if(!this.ckS(t))return alert("第一个入参【跳转链接】,类型为String必填, 请检查入参！");this.postMessage("jsJumpToANewWebPage",{url:t,title:e||""})},ckS:function(t){return"[object String]"===Object.prototype.toString.call(t)},ckF:function(t){return"[object Function]"===Object.prototype.toString.call(t)},ckO:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isAPP:function(t){var e,i=navigator.userAgent,r=i.indexOf("Android")>-1||i.indexOf("Linux")>-1,s=!!i.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)||i.indexOf("ios")>-1;return"Android"===t&&(e=r),"IOS"===t&&(e=s),!t&&(e=!s&&!r),e}}}(window);